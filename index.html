<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>üíº –¢–∞–π–º–µ—Ä—ã & –§–∏–Ω–∞–Ω—Å—ã</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#1e1e1e" />
  <link rel="icon" href="image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üíº</text></svg>">
  <!-- Supabase -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <!-- –≠–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞ -->
  <div id="authScreen" class="screen">
    <div class="card auth-form">
      <h1>üíº –¢–∞–π–º–µ—Ä—ã & –§–∏–Ω–∞–Ω—Å—ã</h1>
      <input type="email" id="authEmail" placeholder="–ü–æ—á—Ç–∞" required />
      <input type="password" id="authPassword" placeholder="–ü–∞—Ä–æ–ª—å" required />
      <button id="loginBtn" class="btn primary">–í–æ–π—Ç–∏</button>
      <button id="registerBtn" class="btn">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
      <p id="authError" class="error"></p>
    </div>
  </div>

  <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å -->
  <div id="mainScreen" class="screen" style="display:none;">
    <header class="top-bar">
      <h1>üíº –¢–∞–π–º–µ—Ä—ã –∏ –§–∏–Ω–∞–Ω—Å—ã</h1>
      <button id="profileBtn" class="btn">üë§ –ü—Ä–æ—Ñ–∏–ª—å</button>
    </header>

    <div class="container">
      <section>
        <h2>‚ö° –ë—ã—Å—Ç—Ä—ã–µ —Ç–∞–π–º–µ—Ä—ã</h2>
        <button class="btn preset" data-mins="90">‚ñ∂Ô∏è –¢–ò–† –í –ê–ú–ú–û (90 –º–∏–Ω)</button>
        <button class="btn preset" data-mins="25">‚ñ∂Ô∏è –ö–æ—Ä–æ—Ç–∫–∏–π (25 –º–∏–Ω)</button>
      </section>

      <section>
        <h2>üîß –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ç–∞–π–º–µ—Ä—ã</h2>
        <div class="input-group">
          <input type="text" id="timerName" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–∞–π–º–µ—Ä–∞" />
          <button id="addTimerBtn" class="btn primary">‚ûï –î–æ–±–∞–≤–∏—Ç—å</button>
        </div>
        <div id="customTimers"></div>
      </section>

      <section>
        <h2>üí∞ –§–∏–Ω–∞–Ω—Å—ã</h2>
        <div class="input-group">
          <input type="number" id="amount" placeholder="–°—É–º–º–∞" step="0.01" />
          <select id="transType">
            <option value="buy">–ü–æ–∫—É–ø–∫–∞</option>
            <option value="sell">–ü—Ä–æ–¥–∞–∂–∞</option>
          </select>
          <input type="text" id="desc" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ" />
          <button id="addTransBtn" class="btn primary">–î–æ–±–∞–≤–∏—Ç—å</button>
        </div>
        <ul id="transList"></ul>
        <div id="summary">–ò—Ç–æ–≥–æ: –ø–æ–∫—É–ø–∫–∏=0, –ø—Ä–æ–¥–∞–∂–∏=0, –±–∞–ª–∞–Ω—Å=0</div>
      </section>

      <section>
        <h2>‚úÖ –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏</h2>
        <div id="dailyTasks"></div>
      </section>

      <button id="clearAllBtn" class="btn danger">üóë –û—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë</button>
    </div>
  </div>

  <!-- –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç -->
  <div id="profileScreen" class="screen" style="display:none;">
    <div class="container">
      <h1>üë§ –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</h1>
      <button id="backToMainBtn" class="btn">‚Üê –ù–∞–∑–∞–¥</button>

      <div class="card">
        <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è</h2>
        <input type="text" id="nicknameInput" placeholder="–í–∞—à –Ω–∏–∫" />
        <select id="serverSelect">
          <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä</option>
          <option value="EU-1">EU-1</option>
          <option value="EU-2">EU-2</option>
          <option value="NA-1">NA-1</option>
          <option value="ASIA-1">ASIA-1</option>
        </select>
        <button id="saveProfileBtn" class="btn primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      </div>

      <div class="card">
        <h2>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
        <div id="statsSummary">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
        <canvas id="statsChart" width="400" height="200"></canvas>
        <h3>–ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π</h3>
        <ul id="statsTransList"></ul>
      </div>

      <button id="logoutBtn" class="btn danger">üö™ –í—ã–π—Ç–∏</button>
    </div>
  </div>

  <!-- Supabase Config -->
  <script>
    // –ó–ê–ú–ï–ù–ò –ù–ê –°–í–û–ò –î–ê–ù–ù–´–ï –ò–ó SUPABASE
    const supabaseUrl = 'https://bpjevpsxzezfoelpnaex.supabase.co';
    const supabaseAnonKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJwamV2cHN4emV6Zm9lbHBuYWV4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIzNTE5MTcsImV4cCI6MjA3NzkyNzkxN30.eFFRBvCPw6ohcozP934lnFv1oJCbJHw35ytrPkd39bY';
    const supabase = window.supabase.createClient(supabaseUrl, supabaseAnonKey);
  </script>
  <script src="app.js"></script>
</body>
</html>
